{"filter":false,"title":"books_controller.rb","tooltip":"/bookers2-debug/app/controllers/books_controller.rb","undoManager":{"mark":7,"position":7,"stack":[[{"start":{"row":7,"column":35},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":8,"column":4},"end":{"row":11,"column":7},"action":"insert","lines":["@book_detail = Book.find(params[:id])","    unless ViewCount.find_by(user_id: current_user.id, book_id: @book_detail.id)","      current_user.view_counts.create(book_id: @book_detail.id)","    end"],"id":3}],[{"start":{"row":21,"column":20},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":22,"column":0},"end":{"row":22,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":22,"column":4},"end":{"row":22,"column":34},"action":"insert","lines":["@user = User.find(params[:id])"],"id":5}],[{"start":{"row":22,"column":12},"end":{"row":22,"column":34},"action":"remove","lines":["User.find(params[:id])"],"id":6},{"start":{"row":22,"column":12},"end":{"row":22,"column":24},"action":"insert","lines":["current_user"]}],[{"start":{"row":8,"column":4},"end":{"row":11,"column":7},"action":"remove","lines":["@book_detail = Book.find(params[:id])","    unless ViewCount.find_by(user_id: current_user.id, book_id: @book_detail.id)","      current_user.view_counts.create(book_id: @book_detail.id)","    end"],"id":12},{"start":{"row":8,"column":2},"end":{"row":8,"column":4},"action":"remove","lines":["  "]},{"start":{"row":8,"column":0},"end":{"row":8,"column":2},"action":"remove","lines":["  "]},{"start":{"row":7,"column":35},"end":{"row":8,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":7,"column":35},"end":{"row":8,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":8,"column":0},"end":{"row":8,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":8,"column":4},"end":{"row":8,"column":55},"action":"insert","lines":["impressionist(@book, nil, :unique => [:ip_address])"],"id":15}]]},"ace":{"folds":[],"scrolltop":180,"scrollleft":0,"selection":{"start":{"row":24,"column":4},"end":{"row":24,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":14,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1675824507513,"hash":"467a39ca4510e1849da1c1abba5c4a4aec374a1d"}